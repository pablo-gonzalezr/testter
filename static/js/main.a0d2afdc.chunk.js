(this.webpackJsonptestter=this.webpackJsonptestter||[]).push([[0],{34:function(e,t,c){},40:function(e,t,c){},46:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),r=c(24),s=c.n(r),i=(c(34),c(16)),o=c(4),l=c(17),j=c(14),u=c(60),b=c(59),d=c(58),m=c(2),h=function(){var e=Object(n.useState)([]),t=Object(j.a)(e,2),c=t[0],a=t[1];Object(n.useEffect)((function(){var e=JSON.parse(localStorage.getItem("Testter"));e&&a(Object(l.a)(e))}),[]);var r=function(e){var t,n=c.filter((function(t){return t.imdbID!==e.imdbID}));a(n),t=n,localStorage.setItem("Testter",JSON.stringify(t))};return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("h3",{className:"d-flex justify-content-center mt-5 h1",children:"Favoritos"}),c.map((function(e,t){return Object(m.jsx)("div",{className:"cmt-4 cardContainer",children:Object(m.jsxs)(u.a,{className:"cardStyle mt-4",children:[Object(m.jsx)(d.a,{className:"cardImageHeight",component:"img",alt:"Poster Pelicula",height:"400",image:e.Poster,title:"Poster Pelicula"}),Object(m.jsxs)(b.a,{children:[Object(m.jsx)("h5",{children:e.Title}),Object(m.jsx)("button",{className:"btn btn-danger",onClick:function(){r(e)},children:"Remover"})]})]})},t)}))]})},f=(c(40),function(){return Object(m.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark",children:Object(m.jsxs)("div",{className:"container d-block",children:[Object(m.jsx)(i.b,{to:"/",className:"navbar-brand mr-5",children:"Buscador de Peliculas"}),Object(m.jsx)(i.b,{to:"/favoritos",className:"btn btn-outline-info ml-3",children:"Favoritos"})]})})}),O=c(23),x=c.n(O),v=c(25),g=function(e){var t=e.onSearch,c=Object(n.useState)(""),a=Object(j.a)(c,2),r=a[0],s=a[1];return Object(m.jsxs)("div",{className:"container mt-5",children:[Object(m.jsx)("div",{className:"d-flex justify-content-center my-3",children:Object(m.jsx)("h1",{children:"Buscador de Peliculas"})}),Object(m.jsxs)("div",{className:"d-flex justify-content-center",children:[Object(m.jsx)("input",{type:"search",className:"form-control mr-sm-2",value:r,placeholder:"Buscar Pelicula",onChange:function(e){return s(e.target.value)}}),Object(m.jsx)("button",{type:"submit",className:"btn btn-outline-success my-sm-0",onClick:function(){return t(r)},children:"\ud83d\udd0d"})]})]})},p=function(e){var t=e.movieList,c=void 0===t?[]:t,n=e.favourites,a=e.favouritesList,r=void 0===a?[]:a,s=function(e){var t=Object(m.jsx)("button",{className:"btn btn-primary",onClick:function(){n(e)},children:"A favoritos"});return r&&r.length&&r.forEach((function(c){c.imdbID===e.imdbID&&(t=Object(m.jsx)("p",{className:"alert alert-info",children:"Ya en Favoritos"}))})),t};return Object(m.jsx)(m.Fragment,{children:c.map((function(e,t){return e?Object(m.jsx)("div",{className:"mt-4 cardContainer",children:Object(m.jsxs)(u.a,{className:"cardStyle",children:[Object(m.jsx)(d.a,{className:"cardImageHeight",component:"img",alt:"Poster Pelicula",height:"400",image:e.Poster,title:"Poster Pelicula"}),Object(m.jsxs)(b.a,{children:[Object(m.jsx)("h5",{children:e.Title}),s(e)]})]})},t):null}))})},N=function(){var e=Object(n.useState)(""),t=Object(j.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)([]),s=Object(j.a)(r,2),i=s[0],o=s[1],u=Object(n.useState)([]),b=Object(j.a)(u,2),d=b[0],h=b[1],f=function(){var e=Object(v.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://www.omdbapi.com/?s=".concat(c,"&apikey=4b4ab6ac")).then((function(e){return e.json()})).then((function(e){o(e.Search)})).catch((function(e){console.log(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){c&&f()}),[c]),Object(n.useEffect)((function(){var e=JSON.parse(localStorage.getItem("Testter"));e&&h(Object(l.a)(e))}),[]);return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(g,{onSearch:a}),Object(m.jsx)(p,{movieList:i,favourites:function(e){var t=[].concat(Object(l.a)(d),[e]);h(t),function(e){localStorage.setItem("Testter",JSON.stringify(e))}(t)},favouritesList:d})]})};var S=function(){return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(i.a,{children:[Object(m.jsx)(f,{}),Object(m.jsxs)(o.c,{children:[Object(m.jsx)(o.a,{path:"/favoritos",children:Object(m.jsx)(h,{})}),Object(m.jsx)(o.a,{exact:!0,path:"/testter",children:Object(m.jsx)(N,{})})]})]})})},y=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,61)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;c(e),n(e),a(e),r(e),s(e)}))};s.a.render(Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsx)(S,{})}),document.getElementById("root")),y()}},[[46,1,2]]]);
//# sourceMappingURL=main.a0d2afdc.chunk.js.map